<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://ritchiecaruso.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://ritchiecaruso.com/" rel="alternate" type="text/html" /><updated>2026-01-27T13:20:30+11:00</updated><id>https://ritchiecaruso.com/feed.xml</id><title type="html">Ritchie Caruso</title><subtitle>A simple Jekyll site</subtitle><entry><title type="html">Domain Migration Password Tool</title><link href="https://ritchiecaruso.com/2026/02/18/password-sync-app.html" rel="alternate" type="text/html" title="Domain Migration Password Tool" /><published>2026-02-18T00:00:00+11:00</published><updated>2026-02-18T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2026/02/18/password-sync-app</id><content type="html" xml:base="https://ritchiecaruso.com/2026/02/18/password-sync-app.html"><![CDATA[<p>Many of us have experienced it before, a branch or company needs to be migrated into your domain or maybe even seperating a bunch of companies under one domain into their own. Whatever the reason may be, it comes with a large set of challenges that can be difficult to navigate.</p>

<p>In my case, the company I worked for were under an AD forest that was shared between multiple organisations. Despite having control of our domain, at times we were still at the mercy of any policies or changes made by the host organisation.</p>

<p>So, it was time for us to migrate everyone and everything onto our own servers, completely segregated from the other domains. This had a number of benefits, we would have more control over our own resources and not have to worry about someone external wreaking havoc due to a change we were not notified about.</p>

<p>The issue, our organisation managed over 10,000 users, 6,000 computers (not including servers) and runs 24 hours a day, 7 days a week. This process wasn’t something that could be done over a weekend. The migration was set to be done over a period of at least 12 months.</p>

<p>I’m not going to go over the entire migration process today, as that would probably be the length of a Harry Potter book. Instead, I will show you a neat little tool I created with Powershell to assist our Help Desk team as they navigated user login issues throughout the year long migration.</p>

<p>During an Active Directory domain migration or even a Multi-Domain setup, one common operational question comes up again and again:</p>

<blockquote>
  <p><strong>“Are passwords actually syncing between these two domains?”</strong></p>
</blockquote>

<p>Whether you’re using trust relationships, synchronization tools, or identity management solutions, I found that a quick and reliable way to validate password synchronization is by comparing the <strong><code class="language-plaintext highlighter-rouge">PasswordLastSet</code></strong> timestamp for the same user across domains.</p>

<p>Today, I will walk through a simple <strong>PowerShell script</strong> I created that checks the password last set date and time between two domains to determine whether they are in sync.</p>

<p><br /></p>

<h2 id="why-passwordlastset">Why <code class="language-plaintext highlighter-rouge">PasswordLastSet</code>?</h2>

<p>Active Directory stores the time a user’s password was last changed in the attribute:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">PasswordLastSet</span><span class="w">
</span></code></pre></div></div>

<p>If passwords are syncing correctly:</p>

<ul>
  <li>The timestamps should be <strong>identical</strong> or</li>
  <li>Within an <strong>acceptable time window</strong> (dependent on your enivronments sync process)</li>
</ul>

<p>If they differ significantly, it’s a strong indicator of a sync issue.</p>

<p><br /></p>

<h2 id="prerequisites">Prerequisites</h2>

<p>Before you begin, ensure:</p>

<ul>
  <li>You have the <strong>ActiveDirectory PowerShell module</strong> installed</li>
  <li>You have <strong>read access</strong> to both domains</li>
  <li>You know the <strong>domain controllers</strong> or domain names for both environments</li>
</ul>

<p>Import the module:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Import-Module</span><span class="w"> </span><span class="nx">ActiveDirectory</span><span class="w">
</span></code></pre></div></div>

<p><br /></p>

<h2 id="defining-the-domains">Defining the Domains</h2>

<p>For clarity, explicitly define the two domains you’re comparing.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$DomainA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"corp.domainA.local"</span><span class="w">
</span><span class="nv">$DomainB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"corp.domainB.local"</span><span class="w">
</span></code></pre></div></div>

<p><br /></p>

<h2 id="fetching-the-passwordlastset-value">Fetching the PasswordLastSet Value</h2>

<p>The following function retrieves the password last set timestamp for a given user in a specific domain:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kr">function</span><span class="w"> </span><span class="nf">Get-PasswordLastSet</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="kr">param</span><span class="w"> </span><span class="p">(</span><span class="w">
        </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$Username</span><span class="p">,</span><span class="w">
        </span><span class="p">[</span><span class="n">string</span><span class="p">]</span><span class="nv">$Server</span><span class="w">
    </span><span class="p">)</span><span class="w">

    </span><span class="n">Get-ADUser</span><span class="w"> </span><span class="nt">-Identity</span><span class="w"> </span><span class="nv">$Username</span><span class="w"> </span><span class="se">`
</span><span class="w">               </span><span class="nt">-Server</span><span class="w"> </span><span class="nv">$Server</span><span class="w"> </span><span class="se">`
</span><span class="w">               </span><span class="nt">-Properties</span><span class="w"> </span><span class="nx">PasswordLastSet</span><span class="w"> </span><span class="o">|</span><span class="w">
    </span><span class="n">Select-Object</span><span class="w"> </span><span class="nt">-ExpandProperty</span><span class="w"> </span><span class="nx">PasswordLastSet</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="comparing-password-timestamps-between-domains">Comparing Password Timestamps Between Domains</h2>

<p>Now let’s put it together.</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$Username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Read-Host</span><span class="w"> </span><span class="s2">"Enter Username"</span><span class="w">

</span><span class="nv">$PwdSetA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-PasswordLastSet</span><span class="w"> </span><span class="nt">-Username</span><span class="w"> </span><span class="nv">$Username</span><span class="w"> </span><span class="nt">-Server</span><span class="w"> </span><span class="nv">$DomainA</span><span class="w">
</span><span class="nv">$PwdSetB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-PasswordLastSet</span><span class="w"> </span><span class="nt">-Username</span><span class="w"> </span><span class="nv">$Username</span><span class="w"> </span><span class="nt">-Server</span><span class="w"> </span><span class="nv">$DomainB</span><span class="w">

</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Domain A PasswordLastSet: </span><span class="nv">$PwdSetA</span><span class="s2">"</span><span class="w">
</span><span class="n">Write-Host</span><span class="w"> </span><span class="s2">"Domain B PasswordLastSet: </span><span class="nv">$PwdSetB</span><span class="s2">"</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="checking-multiple-users-at-once">Checking Multiple Users at Once</h2>

<p>To scale this check, you can loop through a list of users:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$Users</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@(</span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w"> </span><span class="s2">"asmith"</span><span class="p">,</span><span class="w"> </span><span class="s2">"mbrown"</span><span class="p">)</span><span class="w">

</span><span class="kr">foreach</span><span class="w"> </span><span class="p">(</span><span class="nv">$User</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$Users</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$A</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-PasswordLastSet</span><span class="w"> </span><span class="nt">-Username</span><span class="w"> </span><span class="nv">$User</span><span class="w"> </span><span class="nt">-Server</span><span class="w"> </span><span class="nv">$DomainA</span><span class="w">
    </span><span class="nv">$B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-PasswordLastSet</span><span class="w"> </span><span class="nt">-Username</span><span class="w"> </span><span class="nv">$User</span><span class="w"> </span><span class="nt">-Server</span><span class="w"> </span><span class="nv">$DomainB</span><span class="w">

    </span><span class="p">[</span><span class="n">PSCustomObject</span><span class="p">]@{</span><span class="w">
        </span><span class="nx">User</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="nv">$User</span><span class="w">
        </span><span class="nx">DomainA_LastSet</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">$A</span><span class="w">
        </span><span class="nx">DomainB_LastSet</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="nv">$B</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>This produces a clean, report-ready output.</p>

<h2 id="final-thoughts">Final Thoughts</h2>

<p>PowerShell makes it easy to validate password synchronization using native Active Directory attributes. By comparing <code class="language-plaintext highlighter-rouge">PasswordLastSet</code> across domains, you gain a quick, reliable signal that can confirm the potential reason for login issues.</p>]]></content><author><name></name></author><category term="active-directory" /><category term="system-admin" /><summary type="html"><![CDATA[Many of us have experienced it before, a branch or company needs to be migrated into your domain or maybe even seperating a bunch of companies under one domain into their own. Whatever the reason may be, it comes with a large set of challenges that can be difficult to navigate.]]></summary></entry><entry><title type="html">Automating Legacy Workflows Without API Access</title><link href="https://ritchiecaruso.com/2026/01/23/account-creation-automation.html" rel="alternate" type="text/html" title="Automating Legacy Workflows Without API Access" /><published>2026-01-23T00:00:00+11:00</published><updated>2026-01-23T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2026/01/23/account-creation-automation</id><content type="html" xml:base="https://ritchiecaruso.com/2026/01/23/account-creation-automation.html"><![CDATA[<p>Anyone who has ever had to manually create dozens—or hundreds—of accounts in a legacy system knows how painful the process can be:</p>

<ul>
  <li>Open the application</li>
  <li>Click the same fields</li>
  <li>Copy values from a spreadsheet</li>
  <li>Paste, submit, repeat</li>
</ul>

<p>When there’s <strong>no API</strong>, no bulk import feature, and no automation hooks, this kind of work quickly turns into a massive time sink.</p>

<p>I encountered this exact challenge in a previous role at a large organisation. While we had strong automation around Active Directory provisioning, many third-party applications offered no programmatic way to create or manage user accounts. Each request required manual intervention through a GUI.</p>

<p>I wasn’t willing to spend hours every week performing repetitive clicks when a more efficient solution was possible.</p>

<p>Enter <strong>Python</strong>.</p>

<p>Python’s reputation for automation and data handling is well earned, and in this post I’ll walk through how to automate a UI-driven task—<strong>account creation in software without API access</strong>—using <code class="language-plaintext highlighter-rouge">pyautogui</code> and a few supporting libraries.</p>

<blockquote>
  <p>⚠️ <strong>Important</strong>
Only automate systems you are authorised to use in this way. Always follow company policies, vendor license agreements, and local laws.</p>
</blockquote>

<p><br /></p>

<h2 id="why-ui-automation">Why UI Automation?</h2>

<p>UI automation is rarely the <em>ideal</em> solution—but sometimes it’s the <strong>only</strong> viable one.</p>

<p>Common scenarios include:</p>

<ul>
  <li>Internal tools built years ago with no integration options</li>
  <li>Vendor software that exposes no APIs</li>
  <li>Temporary migrations or backfill operations</li>
  <li>One-off or low-frequency bulk tasks</li>
</ul>

<p>When rewriting the application or negotiating API access isn’t realistic, UI automation can save hours of repetitive work and significantly reduce human error.</p>

<p><br /></p>

<h2 id="high-level-approach">High-Level Approach</h2>

<p>At a high level, the automation workflow looks like this:</p>

<ol>
  <li>Read account data from a spreadsheet</li>
  <li>Copy values to the clipboard</li>
  <li>Click predefined screen locations</li>
  <li>Paste data into form fields</li>
  <li>Submit the form and move to the next account</li>
</ol>

<p>To achieve this, we’ll use:</p>

<ul>
  <li><strong><code class="language-plaintext highlighter-rouge">pyautogui</code></strong> – Mouse and keyboard automation</li>
  <li><strong><code class="language-plaintext highlighter-rouge">pyperclip</code></strong> – Reliable clipboard interaction</li>
  <li><strong><code class="language-plaintext highlighter-rouge">pandas</code></strong> – Spreadsheet parsing</li>
</ul>

<p><br /></p>

<h2 id="installing-dependencies">Installing Dependencies</h2>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>pyautogui pyperclip pandas openpyxl
</code></pre></div></div>

<blockquote>
  <p>Note: You may need to grant accessibility or input permissions for automation to work—particularly on macOS. These examples were developed and tested on Windows.</p>
</blockquote>

<p><br /></p>

<h2 id="preparing-the-spreadsheet">Preparing the Spreadsheet</h2>

<p>Assume a simple Excel file (<code class="language-plaintext highlighter-rouge">accounts.xlsx</code>) with the following structure:</p>

<table>
  <thead>
    <tr>
      <th>username</th>
      <th>email</th>
      <th>role</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>jdoe</td>
      <td><a href="mailto:jdoe@example.com">jdoe@example.com</a></td>
      <td>admin</td>
    </tr>
    <tr>
      <td>asmith</td>
      <td><a href="mailto:asmith@example.com">asmith@example.com</a></td>
      <td>user</td>
    </tr>
  </tbody>
</table>

<p>This file acts as the source of truth for the automation.</p>

<p><br /></p>

<h2 id="capturing-screen-coordinates">Capturing Screen Coordinates</h2>

<p>Before writing any automation code, you need to identify <strong>where the script should click</strong>.</p>

<p>Run the following snippet and hover your mouse over each input field:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pyautogui</span>
<span class="nf">print</span><span class="p">(</span><span class="n">pyautogui</span><span class="p">.</span><span class="nf">position</span><span class="p">())</span>
</code></pre></div></div>

<p>Record the screen coordinates for each interaction. This step typically involves some trial and error.</p>

<blockquote>
  <p>⚠️ Screen resolution matters. Coordinates captured at 1920×1080 will not align correctly on a 4K display.</p>
</blockquote>

<h3 id="example-coordinates">Example Coordinates</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">USERNAME_FIELD</span> <span class="o">=</span> <span class="p">(</span><span class="mi">420</span><span class="p">,</span> <span class="mi">310</span><span class="p">)</span>
<span class="n">EMAIL_FIELD</span>    <span class="o">=</span> <span class="p">(</span><span class="mi">420</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
<span class="n">ROLE_FIELD</span>     <span class="o">=</span> <span class="p">(</span><span class="mi">420</span><span class="p">,</span> <span class="mi">410</span><span class="p">)</span>
<span class="n">SUBMIT_BUTTON</span>  <span class="o">=</span> <span class="p">(</span><span class="mi">500</span><span class="p">,</span> <span class="mi">480</span><span class="p">)</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="the-automation-script">The Automation Script</h2>

<p>Below is a simplified example based on a real script I used in production:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pyautogui</span>
<span class="kn">import</span> <span class="n">pyperclip</span>
<span class="kn">import</span> <span class="n">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># Emergency stop: move mouse to top-left corner
</span><span class="n">pyautogui</span><span class="p">.</span><span class="n">FAILSAFE</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c1"># Load spreadsheet
</span><span class="n">file_path</span> <span class="o">=</span> <span class="sh">'</span><span class="s">bulkaccount.xlsx</span><span class="sh">'</span>
<span class="n">sheet_name</span> <span class="o">=</span> <span class="sh">'</span><span class="s">Sheet1</span><span class="sh">'</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="nf">read_excel</span><span class="p">(</span><span class="n">file_path</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="n">sheet_name</span><span class="p">)</span>

<span class="c1"># Loop through non-empty usernames
</span><span class="k">for</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">df</span><span class="p">[</span><span class="sh">'</span><span class="s">username</span><span class="sh">'</span><span class="p">].</span><span class="nf">dropna</span><span class="p">():</span>

    <span class="n">pyperclip</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span><span class="nf">str</span><span class="p">(</span><span class="n">username</span><span class="p">))</span>

    <span class="c1"># ---- UI AUTOMATION ----
</span>    <span class="c1"># Open "New Account"
</span>    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">click</span><span class="p">(</span><span class="mi">750</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">moveTo</span><span class="p">(</span><span class="mi">1700</span><span class="p">,</span> <span class="mi">280</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">click</span><span class="p">(</span><span class="mi">1700</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>

    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>

    <span class="c1"># Paste username
</span>    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">hotkey</span><span class="p">(</span><span class="sh">'</span><span class="s">ctrl</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">v</span><span class="sh">'</span><span class="p">)</span>

    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">moveTo</span><span class="p">(</span><span class="mi">1250</span><span class="p">,</span> <span class="mi">430</span><span class="p">)</span>
    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">click</span><span class="p">(</span><span class="mi">1250</span><span class="p">,</span> <span class="mi">430</span><span class="p">)</span>

    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

    <span class="c1"># Submit account creation
</span>    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">moveTo</span><span class="p">(</span><span class="mi">1050</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">doubleClick</span><span class="p">(</span><span class="mi">1050</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>

    <span class="n">pyautogui</span><span class="p">.</span><span class="nf">sleep</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">✅ Finished all usernames</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<p>While my production script included additional logic for error handling and multiple fields, this example demonstrates the core mechanics required to automate most UI-based workflows.</p>

<p><br /></p>

<h2 id="making-ui-automation-more-robust">Making UI Automation More Robust</h2>

<p>UI automation can be fragile if not handled carefully. The following practices help improve reliability:</p>

<h3 id="add-delays">Add Delays</h3>

<p>UI response times vary. Always assume the application is slower than your code—especially with web-based interfaces.</p>

<h3 id="use-failsafes">Use Failsafes</h3>

<p>Setting <code class="language-plaintext highlighter-rouge">pyautogui.FAILSAFE = True</code> allows you to abort the script instantly by moving the mouse to the top-left corner of the screen.</p>

<h3 id="test-with-dummy-data">Test With Dummy Data</h3>

<p>Never start with production accounts. Validate the entire workflow using test or non-existent accounts first.</p>

<h3 id="lock-down-your-environment">Lock Down Your Environment</h3>

<p>Consistency is critical:</p>

<ul>
  <li>Same screen resolution</li>
  <li>Same window position</li>
  <li>Same zoom level</li>
</ul>

<p>Any deviation can break coordinate-based automation.</p>

<p><br /></p>

<h2 id="limitations-of-ui-automation">Limitations of UI Automation</h2>

<p>While powerful, UI automation has clear drawbacks:</p>

<ul>
  <li>Breaks if the UI layout changes</li>
  <li>Highly sensitive to screen resolution and scaling</li>
  <li>More difficult to debug than API-based solutions</li>
  <li>Unsuitable for high-frequency or real-time automation</li>
</ul>

<p>Treat it as a <strong>practical workaround</strong>, not a long-term architectural solution.</p>

<p><br /></p>

<h2 id="final-thoughts">Final Thoughts</h2>

<p>When APIs aren’t available, UI automation can transform hours of repetitive work into a one-time scripting effort that runs in minutes.</p>

<p>Tools like <code class="language-plaintext highlighter-rouge">pyautogui</code> allow engineers to:</p>

<ul>
  <li>Reduce human error</li>
  <li>Eliminate repetitive tasks</li>
  <li>Extend automation into legacy or closed systems</li>
</ul>

<p>Used carefully, ethically, and as a last resort, UI automation can deliver significant productivity gains—even in environments that were never designed to be automated.</p>]]></content><author><name></name></author><category term="automation" /><category term="python" /><summary type="html"><![CDATA[Anyone who has ever had to manually create dozens—or hundreds—of accounts in a legacy system knows how painful the process can be:]]></summary></entry><entry><title type="html">Tamagotchi for Hackers: Building a Pwnagotchi</title><link href="https://ritchiecaruso.com/2025/12/27/pwnagotchi.html" rel="alternate" type="text/html" title="Tamagotchi for Hackers: Building a Pwnagotchi" /><published>2025-12-27T00:00:00+11:00</published><updated>2025-12-27T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2025/12/27/pwnagotchi</id><content type="html" xml:base="https://ritchiecaruso.com/2025/12/27/pwnagotchi.html"><![CDATA[<p>If you grew up in the late ’90s or early 2000s, chances are you remember Tamagotchis—the small handheld digital pets from Bandai that demanded constant attention through feeding, games, and care via three tiny buttons.</p>

<p>Recently, I stumbled across a fantastic open-source project called Pwnagotchi.</p>

<p>As the name suggests, it’s a playful nod to Tamagotchis—but with a cybersecurity twist. Instead of feeding a digital pet, you’re training a small device to passively observe and learn from Wi-Fi environments.</p>

<p>As someone with a background in cybersecurity and a growing interest in electronics, this felt like the perfect project to take on.</p>

<figure> 
    <img src="/assets/images/pwnagotchi/tamagotchi.webp" alt="Bandai Tamagotchi" width="350" /> <figcaption>Bandai Tamagotchi</figcaption> 
</figure>

<h2 id="what-is-a-pwnagotchi">What Is a Pwnagotchi?</h2>

<p>A Pwnagotchi is a DIY, battery-powered device built around a Raspberry Pi. It uses bettercap under the hood to monitor Wi-Fi traffic and capture handshakes, all while displaying a charming “face” that evolves based on its activity.</p>

<p>The project is surprisingly beginner-friendly. With some basic Linux and Raspberry Pi knowledge, you can get one up and running without soldering or advanced electronics experience.</p>

<h2 id="hardware-selection">Hardware Selection</h2>

<p>After some research, I settled on a portable configuration featuring an e-ink display and internal battery. This keeps power consumption low and gives the device a very authentic Tamagotchi-like feel.</p>

<h3 id="parts-list">Parts List</h3>

<p>Here’s the hardware I used for my build:</p>

<ul>
  <li>
    <p>Raspberry Pi Zero 2 W (with header pins)</p>
  </li>
  <li>
    <p>Waveshare v4 2.13” E-Ink Display HAT</p>
  </li>
  <li>
    <p>PiSugar 3 (1200mAh) Battery</p>
  </li>
  <li>
    <p>32GB MicroSD Card (plus USB adapter or card reader)</p>
  </li>
  <li>
    <p>Micro-USB to USB-A Cable</p>
  </li>
  <li>
    <p>3D-Printed Case</p>
  </li>
</ul>

<p>The case isn’t strictly necessary, but since I already own an FDM 3D printer, it was an easy decision.</p>

<figure> 
    <img src="/assets/images/pwnagotchi/parts.webp" alt="Pwnagotchi Parts" width="500" />
    <figcaption>Pwnagotchi Parts</figcaption> 
</figure>
<h2 id="assembly">Assembly</h2>

<p>One of the biggest advantages of this build is that it’s completely solderless:</p>

<ul>
  <li>
    <p>The Waveshare e-ink display slots directly onto the Raspberry Pi header pins.</p>
  </li>
  <li>
    <p>The PiSugar battery mounts to the back of the Pi using four screws.</p>
  </li>
</ul>

<figure> 
    <div class="side-by-side"> 
        <img src="/assets/images/pwnagotchi/waveshare.webp" alt="Waveshare Screen" /> 
        <img src="/assets/images/pwnagotchi/pwnagotchi-side.webp" alt="Side view of Pwnagotchi" /> 
    </div> 
    <figcaption>Pwnagotchi Build</figcaption> 
</figure>

<p>The entire assembly process took only a few minutes.</p>

<h2 id="software-installation">Software Installation</h2>

<p>Rather than repeating everything in the documentation here, I’ll link the guide I followed:</p>

<p><a href="https://pwnagotchi.org/getting-started/index.html">Getting Started Guide</a></p>

<p><a href="https://pwnagotchi.ai/">Official Pwnagotchi Website</a></p>

<p>Installation involves flashing a custom Pwnagotchi image to the microSD card using Raspberry Pi Imager, inserting it into the device, and connecting the Pi to your computer via USB.</p>

<figure> 
    <img src="/assets/images/pwnagotchi/raspberry-pi.webp" alt="Raspberry Pi" width="500" />
    <figcaption>Raspberry Pi</figcaption> 
</figure>

<h2 id="initial-setup-windows">Initial Setup (Windows)</h2>

<p>I completed the setup on a Windows laptop:</p>

<ol>
  <li>
    <p>Installed the RNDIS driver so Windows could recognize the Pwnagotchi as a USB Ethernet device.</p>
  </li>
  <li>
    <p>Assigned a static IP address as recommended in the guide.</p>
  </li>
  <li>
    <p>Connected via SSH and immediately changed the default password (highly recommended).</p>
  </li>
</ol>

<p>Initial configuration is handled via an interactive wizard:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo pwnagotchi --wizard
</code></pre></div></div>

<p>Once complete, the device is technically ready—b
Below are the key settings I recommend enabling or modifying:</p>

<p>ut a few important security and usability settings should be configured first.</p>

<h2 id="web-ui-and-configuration">Web UI and Configuration</h2>

<p>The main configuration file lives at:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/pwnagotchi/config.toml
</code></pre></div></div>

<p>While this can be edited manually, the web UI provides a much more user-friendly experience.</p>

<h3 id="enabling-the-web-ui">Enabling the Web UI</h3>

<p>With the device connected to your PC, navigate to:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://10.0.0.2:8080
</code></pre></div></div>

<p>Once inside the web UI:</p>

<ol>
  <li>
    <p>Go to Plugins</p>
  </li>
  <li>
    <p>Enable the webcfg plugin</p>
  </li>
</ol>

<p>From here, all configuration can be handled through the browser.</p>

<h2 id="recommended-configuration-settings">Recommended Configuration Settings</h2>

<p>Below are the key settings I recommend enabling or modifying:</p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Opt out of PwnGrid data sharing</span>
<span class="n">main</span><span class="p">.</span><span class="n">plugins</span><span class="p">.</span><span class="n">grid</span><span class="p">.</span><span class="n">enabled</span> <span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="n">main</span><span class="p">.</span><span class="n">plugins</span><span class="p">.</span><span class="n">grid</span><span class="p">.</span><span class="n">report</span> <span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="c"># Disable deauthentication packets</span>
<span class="n">personality</span><span class="p">.</span><span class="n">deauth</span> <span class="o">=</span><span class="w"> </span><span class="kc">false</span>

<span class="c"># Enable and secure the web UI</span>
<span class="n">ui</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">enabled</span> <span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">ui</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">auth</span> <span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">ui</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">username</span> <span class="o">=</span><span class="w"> </span><span class="s">"USERNAME"</span>
<span class="n">ui</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">password</span> <span class="o">=</span><span class="w"> </span><span class="s">"PASSWORD"</span>
</code></pre></div></div>

<p>Disabling deauthentication is especially important to avoid disrupting nearby networks and potential legal issues.</p>

<h2 id="securing-bettercap">Securing Bettercap</h2>

<p>Pwnagotchi relies on bettercap for packet capture and analysis. bettercap has its own web interface, accessible at:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http://pwnagotchi.local
</code></pre></div></div>

<p>(Default credentials: <code class="language-plaintext highlighter-rouge">pwnagotchi / pwnagotchi</code>)</p>

<h3 id="changing-the-bettercap-credentials">Changing the Bettercap Credentials</h3>

<ol>
  <li>
    <p>SSH into the Pwnagotchi</p>
  </li>
  <li>Edit:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/usr/local/share/bettercap/caplets/pwnagotchi-auto.cap
</code></pre></div>    </div>
    <p>Update:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>set api.rest.username "USERNAME"
set api.rest.password "PASSWORD"
</code></pre></div>    </div>
  </li>
  <li>Edit:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/etc/pwnagotchi/config.toml
</code></pre></div>    </div>
    <p>Update:</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bettercap.username = "USERNAME"
bettercap.password = "PASSWORD"
</code></pre></div>    </div>
  </li>
  <li>Reboot:
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo reboot
</code></pre></div>    </div>
  </li>
</ol>

<p>⚠️ Note: These credentials are stored in plain text. Do not reuse sensitive passwords.</p>

<h2 id="testing-the-device">Testing the Device</h2>

<p>After rebooting, I unplugged the device and tested it on my home network. The Pwnagotchi successfully captured a handshake, which was clearly indicated on the display.</p>

<p>Handshake files can be found at:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/home/pi/handshakes
</code></pre></div></div>

<p>While my Wi-Fi password proved too strong to crack (as it should), the device worked exactly as intended.</p>

<figure> <img src="/assets/images/pwnagotchi/pwnagotchi.webp" alt="Completed Pwnagotchi" width="600" /> <figcaption>Completed Pwnagotchi</figcaption> </figure>
<h2 id="final-thoughts">Final Thoughts</h2>

<p>The Pwnagotchi is a fun, educational project that blends nostalgia with practical cybersecurity concepts. It’s an excellent way to learn more about wireless security, Linux, and embedded devices.</p>

<p>If you’re interested in hardware hacking, wireless security, or just enjoy nostalgic tech projects, building a Pwnagotchi is absolutely worth your time.</p>]]></content><author><name></name></author><category term="cybersecurity" /><category term="raspberry pi" /><category term="hacking" /><category term="wifi" /><category term="electronics" /><summary type="html"><![CDATA[If you grew up in the late ’90s or early 2000s, chances are you remember Tamagotchis—the small handheld digital pets from Bandai that demanded constant attention through feeding, games, and care via three tiny buttons.]]></summary></entry><entry><title type="html">Transform a Cheap 3D Printer into a High End Machine with Klipper</title><link href="https://ritchiecaruso.com/2025/11/08/klipper.html" rel="alternate" type="text/html" title="Transform a Cheap 3D Printer into a High End Machine with Klipper" /><published>2025-11-08T00:00:00+11:00</published><updated>2025-11-08T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2025/11/08/klipper</id><content type="html" xml:base="https://ritchiecaruso.com/2025/11/08/klipper.html"><![CDATA[<p>I love the endless creative posiblities of 3D Printing but the most prohibitive part of the hobby is the cost. Sure, you can get affordable 3D printers but they lack many desirable features of the higher end models.</p>

<p>This is where the fantastic open source software Klipper comes into the picture. I learnt about Klipper from a colleague who has been 3D Printing for a long time, this nifty piece of software and firmware can transform your printer with features such as printing over wi-fi, finer control of configuration and increased print speeds.</p>

<p>Klipper is a modern 3D-printer firmware that moves complex motion calculations from the printer’s control board to a more powerful host computer (such as a Raspberry Pi or PC). The result is <strong>faster printing, improved quality, and advanced features</strong> that are difficult to achieve with traditional firmware that printers ship with like Marlin.</p>

<p>The printer I will be transforming is the <strong>Creality Ender-3 V3 SE</strong>. This is an extremely affordable printer designed for tinkerers as many of its parts can be upgraded.</p>

<p>If you are planning to install Klipper on an Ender-3 V3 SE yourself, I recommend following the same comprehensive guide that I did: <a href="https://athemis.me/projects/klipper_guide/">Athemis Guide</a></p>

<p>Below, I will go through the steps I took when installing Klipper on my printer.</p>

<p>⚠️ Please Note: This information may be outdated at the time of reading.</p>

<p><br /></p>

<h2 id="what-youll-need">What You’ll Need</h2>

<h3 id="hardware">Hardware</h3>

<ul>
  <li>Creality Ender-3 V3 SE (or another compaitable printer)</li>
  <li>Raspberry Pi 3, 4, or Zero 2 W recommended (I used a Zero 2 W)</li>
  <li>microSD card for the Klipper software</li>
  <li>Micro-USB to USB-C cable (if using the Zero 2 W)</li>
  <li>SD card (this likely came with your 3D printer)</li>
</ul>

<h3 id="software">Software</h3>

<ul>
  <li>Klipper</li>
  <li>Moonraker</li>
  <li>Web interface (Mainsail or Fluidd)</li>
  <li>SSH access to the host device</li>
</ul>

<p><br /></p>

<h2 id="step-1-prepare-the-host-system">Step 1: Prepare the Host System</h2>

<h3 id="install-the-operating-system">Install the Operating System</h3>

<ul>
  <li>Flash <strong>Raspberry Pi OS Lite (64-bit)</strong> using Raspberry Pi Imager</li>
  <li>Enable SSH during flashing or via <code class="language-plaintext highlighter-rouge">raspi-config</code></li>
</ul>

<h3 id="install-klipper-moonraker-and-web-ui">Install Klipper, Moonraker, and Web UI</h3>

<p>The easiest method is <strong>KIAUH (Klipper Installation And Update Helper)</strong>.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt <span class="nb">install </span>git <span class="nt">-y</span>
git clone https://github.com/dw-0/kiauh.git
<span class="nb">cd </span>kiauh
./kiauh.sh
</code></pre></div></div>

<p>From the menu, install:</p>

<ul>
  <li>Klipper</li>
  <li>Moonraker</li>
  <li>Mainsail <em>or</em> Fluidd (I installed Mainsail but Fluidd is also a popular choice)</li>
</ul>

<figure>
  <img src="/assets/images/klipper/kiauh.webp" alt="KIAUH Setup Screen" width="400" />
  <figcaption>KIAUH Setup Screen</figcaption>
</figure>

<p>Once complete, reboot the Raspberry Pi.</p>

<p><br /></p>

<h2 id="step-2-identify-the-ender-3-v3-se-control-board">Step 2: Identify the Ender-3 V3 SE Control Board</h2>

<p>You likely don’t have the exact same printer as I do, please do some research regarding your specific printer model for this next part. I am going to outline the steps I took with the Ender-3 V3 SE to flash the Klipper firmware to the printer.</p>

<p>The Ender-3 V3 SE ships with a Creality 32-bit board. Board revisions may vary, commonly using an <strong>STM32 MCU</strong>.</p>

<h3 id="how-to-confirm">How to Confirm</h3>

<ul>
  <li>Remove the bottom cover of the printer</li>
  <li>Look for the MCU model printed on the chip (for example: <code class="language-plaintext highlighter-rouge">STM32F103</code> or <code class="language-plaintext highlighter-rouge">STM32F401</code>)</li>
  <li>Note the USB connection type (typically USB)</li>
</ul>

<p>This information is required to compile the correct Klipper firmware.</p>

<p><br /></p>

<h2 id="step-3-build-the-klipper-firmware">Step 3: Build the Klipper Firmware</h2>

<p>From the host:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> ~/klipper
make menuconfig
</code></pre></div></div>

<p>Use these <strong>typical settings</strong> (adjust if your board differs):</p>

<ul>
  <li><strong>Micro-controller Architecture</strong>: STM32</li>
  <li><strong>Processor Model</strong>: (match your board, e.g., STM32F103 or STM32F401)</li>
  <li><strong>Bootloader Offset</strong>: 28KiB (common for Creality boards)</li>
  <li><strong>Communication Interface</strong>: USB</li>
</ul>

<p>Save and exit, then compile:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>make
</code></pre></div></div>

<p>The firmware file will be created at:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>~/klipper/out/klipper.bin
</code></pre></div></div>

<p><br /></p>

<h2 id="step-4-flash-klipper-to-the-printer">Step 4: Flash Klipper to the Printer</h2>

<ol>
  <li>Transfer the <code class="language-plaintext highlighter-rouge">klipper.bin</code> file to your printer’s SD card</li>
  <li>Turn off the printer</li>
  <li>Insert SD card</li>
  <li>Turn on the printer and wait 15 seconds</li>
  <li>Turn off the printer</li>
  <li>Take the SD card out and remove the .bin file</li>
  <li>Insert the empty SD card into the printer</li>
  <li>Turn on the printer (the screen should be a blue screensaver image)</li>
  <li>Connect your Raspberry Pi to the printer via USB cable</li>
  <li>Navigate to your Fluidd or Mainsail web interface from your PC</li>
</ol>

<p>If flashing is successful, the screen will remain blank or show no UI — this is normal with Klipper.</p>

<p><br /></p>

<h2 id="step-5-connect-klipper-to-the-printer">Step 5: Connect Klipper to the Printer</h2>

<p>Find the printer’s USB ID:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">ls</span> /dev/serial/by-id/
</code></pre></div></div>

<p>Copy the full device path (you’ll need it for the config).</p>

<figure>
  <img src="/assets/images/klipper/printer.webp" alt="Printer with Klipper" width="400" />
  <figcaption>Printer with Klipper</figcaption>
</figure>

<p><br /></p>

<h2 id="step-6-create-the-printercfg">Step 6: Create the <code class="language-plaintext highlighter-rouge">printer.cfg</code></h2>

<p>The printer requires a <code class="language-plaintext highlighter-rouge">printer.cfg</code> file to operate, this text file is basically a list of instructions for the printer. This config file will be different for each printer model so search online for a basic config file for your printers.</p>

<p>The config file I used as a base is found <a href="https://github.com/shubham0x13/ender-3-v3-se-klipper">here</a></p>

<p><br /></p>

<h2 id="step-7-calibration-and-first-print">Step 7: Calibration and First Print</h2>

<p>You should be able to access the web ui of your Printer here: <code class="language-plaintext highlighter-rouge">http://[hostname-of-your-pi].local</code>
The following callibrations can be done via the web ui.</p>

<h3 id="required-calibrations">Required Calibrations</h3>

<p>There are a few important adjustments we need to make before running our first print.</p>

<p><strong>Probe Z Offset</strong>
The common method for setting the Z Offset is to put a piece of paper under the nozzle and setting the Z axis to 0. The paper should still move but have some drag on it as you pull it out.</p>
<ul>
  <li>If the paper can be moved freely then the Z offset needs to be lowered.</li>
  <li>If the paper does not move at all then the Z offset needs to be raised.</li>
</ul>

<p>Once the Z Offset is right, you can save the config which will save the Z Offset to the printer.cfg file.</p>

<p>You only need to configure the Z Offset again when changing nozzle or bed.</p>

<p><strong>PID tuning</strong> (hotend and bed)
The Mainsail web ui will have macro options to configure the hotend and bed tempratures to ensure they keep a stable temprature during printing.</p>

<p><strong>Bed mesh leveling</strong>
Running a manual bed mesh leveling will allow you to see a visual represnetation of the high and low spots of your printer bed.</p>

<p>My printer had some serious bed leveling issues which required me to readjust the Z Gantry as it was not straight, after this I purchased some rubber bushings as the stock ones could not be adjusted.</p>

<p>I was able to get the printer from an initial 2mm offset down to 0.1mm offset. (This resolved a lot of the printing issues I had prior to Klipper)</p>

<figure>
  <img src="/assets/images/klipper/bushings.webp" alt="Leveling Print Bed" width="600" />
  <figcaption>Leveling Print Bed</figcaption>
</figure>

<p><br /></p>

<h2 id="step-8-start-printing">Step 8: Start Printing</h2>
<p>Personally, I used <a href="https://orca-slicer.com/">Orca Slicer</a> for printing with a Klipper enabled printer.
The software has a lot of customisation options and takes a bit of getting used to but you can send prints directly to the printer and even monitor the status of the print right from Orca Slicer.</p>

<h3 id="benefits-youll-notice-immediately">Benefits You’ll Notice Immediately</h3>

<ul>
  <li>Smoother motion and cleaner surfaces</li>
  <li>Faster print speeds without quality loss</li>
  <li>Web-based control and monitoring</li>
  <li>Advanced tuning and automation</li>
</ul>

<h3 id="additional-improvements">Additional Improvements</h3>

<p>I decided to print a case and a mount for the Raspberry Pi to attach it to the printer, this is not necessary but is a visual improvmenet that also keeps things tidy.</p>

<figure>
  <img src="/assets/images/klipper/pi-mount.webp" alt="Mounting Bracket and Case for Raspberry Pi" width="350" />
  <figcaption>Mounting Bracket and Case for Raspberry Pi</figcaption>
</figure>

<h2 id="final-thoughts">Final Thoughts</h2>

<p>Installing Klipper on your 3D Printer can transform a capable entry-level printer into a <strong>high-performance, highly tunable machine</strong>. While setup requires a bit of care and research, the payoff in print quality, speed, and control is substantial.</p>

<p>For makers, educators, and printing enthusiasts looking to push their hardware further, Klipper is well worth the upgrade.</p>]]></content><author><name></name></author><category term="3d printing" /><category term="fdm printer" /><category term="raspberry pi" /><category term="electronics" /><summary type="html"><![CDATA[I love the endless creative posiblities of 3D Printing but the most prohibitive part of the hobby is the cost. Sure, you can get affordable 3D printers but they lack many desirable features of the higher end models.]]></summary></entry><entry><title type="html">How Bad Actors Can Hide Outlook &amp;amp; Exchange Inbox Rules</title><link href="https://ritchiecaruso.com/2025/10/20/hidden-outlook-rules.html" rel="alternate" type="text/html" title="How Bad Actors Can Hide Outlook &amp;amp; Exchange Inbox Rules" /><published>2025-10-20T00:00:00+11:00</published><updated>2025-10-20T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2025/10/20/hidden-outlook-rules</id><content type="html" xml:base="https://ritchiecaruso.com/2025/10/20/hidden-outlook-rules.html"><![CDATA[<p>It was a typical Monday morning. I sat down at my desk, ready to start the day, when I received a Microsoft Teams message from our cybersecurity department. Over the weekend, a breach had occurred that impacted several users.</p>

<p>Without going into sensitive detail, the attacker had gained access to user accounts and distributed a phishing campaign via a SharePoint file.</p>

<p>My task that morning was straightforward:</p>

<ul>
  <li>Assist affected users with password resets</li>
  <li>Ensure multi-factor authentication (MFA) using an authenticator app was configured</li>
  <li>Restore access to their accounts</li>
</ul>

<p>After working through this process with several users, I noticed a strange pattern: <strong>none of them had received any emails since Friday</strong>.</p>

<p>At first glance, this didn’t seem alarming — it <em>was</em> the weekend — but something felt off. I sent a test email to one of the accounts. It never appeared in the inbox.</p>

<p>After searching Outlook, I discovered the message had arrived successfully, but it was sitting in the <strong>Archive</strong> folder, along with every other email received since Friday.</p>

<p>At this point, it became clear that an inbox rule was involved. However, when I checked the Outlook <em>Rules and Alerts</em> interface, <strong>no rules were visible</strong>.</p>

<p>After further research, I found multiple reports describing similar behaviour. That’s when I learned about a little-known — but highly effective — technique that allows attackers to <strong>hide Outlook/Exchange inbox rules from the Rules GUI entirely</strong>.</p>

<p>In this post, I’ll walk through:</p>

<ul>
  <li>How this attack works</li>
  <li>How attackers hide inbox rules</li>
  <li>How to detect hidden rules</li>
  <li>How to remove them at scale across an organisation</li>
</ul>

<p><br /></p>

<h2 id="the-attack">The Attack</h2>

<h3 id="how-is-the-attack-executed">How Is the Attack Executed?</h3>
<figure>
  <img src="/assets/images/hidden-rules/hidden-rule-attack.webp" alt="Hidden Rule Attack Steps" width="250" />
  <figcaption>Hidden Rule Attack Steps</figcaption>
</figure>

<p>In our environment, external email forwarding was blocked. Instead of forwarding messages, the attacker created a rule that silently moved emails out of sight — buying time before the user realised their account had been compromised.</p>

<p>These actions are well suited to scripting and automation—particularly the creation of the malicious rule and the subsequent steps to conceal it from Outlook clients.</p>

<p>For simplicity, we’ll assume the attacker has already <strong>completed steps 1 and 2</strong>:</p>

<ol>
  <li>Obtained valid credentials</li>
  <li>Logged into the victim’s mailbox via Outlook</li>
</ol>

<p><br /></p>

<h3 id="step-3-create-a-malicious-inbox-rule">Step 3: Create a Malicious Inbox Rule</h3>

<p>The attacker creates an inbox rule that forwards or moves emails — for example, to the attackers email.</p>

<figure>
  <img src="/assets/images/hidden-rules/create-rule.webp" alt="Creating Outlook rule" width="400" />
  <figcaption>Creating Outlook rule</figcaption>
</figure>

<p>At this stage, the rule is still visible in the <strong>Rules and Alerts</strong> window.</p>

<p><br /></p>

<h3 id="step-4-hide-the-rule">Step 4: Hide the Rule</h3>

<p>The next step is to make the rule nearly invisible.</p>

<p>This exploit abuses Microsoft’s <strong>Messaging API (MAPI)</strong>, a middleware layer that allows applications like Outlook to interact with mailbox data.</p>

<p>To demonstrate, I used <strong>MFCMapi</strong>, a Microsoft-provided diagnostic tool available on GitHub.</p>

<p>In this example, the rule moves emails with the subject <em>“Hidden Test”</em> to the Archive folder.</p>

<figure>
  <img src="/assets/images/hidden-rules/rule-demonstration.webp" alt="Rule that will be hidden" width="400" />
  <figcaption>Rule that will be hidden</figcaption>
</figure>

<h4 id="hiding-the-rule-with-mfcmapi">Hiding the Rule with MFCMapi</h4>

<ol>
  <li>Open the Inbox in <strong>MFCMapi</strong></li>
  <li>Navigate to <strong>Folder → View → Hidden Contents</strong></li>
  <li>Locate messages with the class <code class="language-plaintext highlighter-rouge">IPM.Rule.Version2.Message</code></li>
  <li>Open the rule and locate the following properties:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">PR_RULE_MSG_NAME</code></li>
      <li><code class="language-plaintext highlighter-rouge">PR_RULE_MSG_PROVIDER</code></li>
    </ul>
  </li>
  <li><strong>Clear the value fields</strong> for both properties</li>
</ol>

<figure>
  <img src="/assets/images/hidden-rules/mfcmapi-changes.webp" alt="Tampering with rule properties" width="600" />
  <figcaption>Tampering with rule properties</figcaption>
</figure>

<p>Once modified, the rule no longer appears in Outlook or standard administrative interfaces.</p>

<p><br /></p>

<h2 id="detecting-hidden-inbox-rules">Detecting Hidden Inbox Rules</h2>

<p>After hiding the rule, the <strong>Rules and Alerts</strong> window appears empty:</p>

<figure>
  <img src="/assets/images/hidden-rules/rule-is-hidden.webp" alt="No rules visible in Outlook" width="600" />
  <figcaption>No rules visible in Outlook</figcaption>
</figure>

<p>However, the rule is still active.</p>

<p>After sending a test email that meets the rule’s criteria, the message is silently moved to the Archive folder:</p>

<figure>
  <img src="/assets/images/hidden-rules/email-in-archive.webp" alt="Email moved by hidden rule" width="600" />
  <figcaption>Email moved by hidden rule</figcaption>
</figure>

<p><br /></p>

<h2 id="detecting-hidden-rules-with-powershell">Detecting Hidden Rules with PowerShell</h2>

<p>Manually inspecting mailboxes with MFCMapi does not scale. Fortunately, <strong>PowerShell provides visibility into hidden rules</strong>.</p>

<p>First, connect to Exchange Online:</p>

<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Connect-ExchangeOnline</span><span class="w">
</span></code></pre></div></div>

<p>Then query inbox rules, including hidden ones:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Get-InboxRule</span><span class="w"> </span><span class="nt">-Mailbox</span><span class="w"> </span><span class="nx">example</span><span class="err">@</span><span class="nx">example.com</span><span class="w"> </span><span class="nt">-IncludeHidden</span><span class="w">
</span></code></pre></div></div>
<p>Hidden rules appear with a numeric string.</p>

<figure>
  <img src="/assets/images/hidden-rules/Get-InboxRule.webp" alt="Detecting hidden rule in Powershell" width="600" />
  <figcaption>Detecting hidden rule in Powershell</figcaption>
</figure>

<p><br /></p>

<h2 id="removing-hidden-rules">Removing Hidden Rules</h2>
<p>There are two effective removal methods.</p>

<h3 id="option-1-powershell-recommended">Option 1: Powershell (Recommended)</h3>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Remove-InboxRule</span><span class="w"> </span><span class="nt">-Mailbox</span><span class="w"> </span><span class="nx">example</span><span class="err">@</span><span class="nx">work.com</span><span class="w"> </span><span class="nt">-Identity</span><span class="w"> </span><span class="s2">"RULE_ID"</span><span class="w">
</span></code></pre></div></div>

<figure>
  <img src="/assets/images/hidden-rules/remove-rule.webp" alt="Removing hidden rule in Powershell" width="800" />
  <figcaption>Removing hidden rule in Powershell</figcaption>
</figure>

<h3 id="option-2-outlook-clean-rules-flag">Option 2: Outlook Clean Rules Flag</h3>
<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>outlook.exe /cleanrules
</code></pre></div></div>
<figure>
  <img src="/assets/images/hidden-rules/clean-rules.webp" alt="Cleaning Outlook Rules" width="400" />
  <figcaption>Cleaning Outlook Rules</figcaption>
</figure>

<p>⚠️ Warning: This removes all inbox rules for the user.</p>

<p><br /></p>

<h2 id="scanning-the-entire-organisation">Scanning the Entire Organisation</h2>
<p>To ensure no hidden rules remain across the tenant, I wrote the following PowerShell script:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$mailboxes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-EXOMailbox</span><span class="w"> </span><span class="nt">-ResultSize</span><span class="w"> </span><span class="nx">Unlimited</span><span class="w">
</span><span class="nv">$output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@()</span><span class="w">

</span><span class="kr">foreach</span><span class="w"> </span><span class="p">(</span><span class="nv">$mailbox</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$mailboxes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$hiddenrules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-InboxRule</span><span class="w"> </span><span class="nt">-Mailbox</span><span class="w"> </span><span class="nv">$mailbox</span><span class="w"> </span><span class="nt">-IncludeHidden</span><span class="w"> </span><span class="o">|</span><span class="w">
        </span><span class="n">Where-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="nt">-notin</span><span class="w"> </span><span class="p">(</span><span class="n">Get-InboxRule</span><span class="w"> </span><span class="nt">-Mailbox</span><span class="w"> </span><span class="nv">$mailbox</span><span class="p">)</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="o">-and</span><span class="w">
            </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="o">-ne</span><span class="w"> </span><span class="s2">"Junk E-Mail Rule"</span><span class="w">
        </span><span class="p">}</span><span class="w">

    </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$hiddenrules</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="kr">foreach</span><span class="w"> </span><span class="p">(</span><span class="nv">$rule</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$hiddenrules</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nv">$output</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">[</span><span class="n">PSCustomObject</span><span class="p">]@{</span><span class="w">
                </span><span class="nx">Email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$mailbox</span><span class="err">.</span><span class="nx">UserPrincipalName</span><span class="w">
                </span><span class="nx">Rule</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="nv">$rule</span><span class="err">.</span><span class="nx">Name</span><span class="w">
            </span><span class="p">}</span><span class="w">
            </span><span class="n">Write-Host</span><span class="w"> </span><span class="nv">$mailbox</span><span class="o">.</span><span class="nf">UserPrincipalName</span><span class="w"> </span><span class="nv">$rule</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="nt">-ForegroundColor</span><span class="w"> </span><span class="nx">Red</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="nv">$output</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Export-Csv</span><span class="w"> </span><span class="s2">"OUTPUT_PATH.csv"</span><span class="w"> </span><span class="nt">-NoTypeInformation</span><span class="w">
</span></code></pre></div></div>
<p>This produces a list of mailboxes with suspicious hidden rules.</p>

<p><br /></p>

<h2 id="inspecting-rule-behaviour">Inspecting Rule Behaviour</h2>
<p>To understand what a hidden rule actually does:</p>
<div class="language-powershell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">@()</span><span class="w">
</span><span class="nv">$rules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Get-InboxRule</span><span class="w"> </span><span class="nt">-Mailbox</span><span class="w"> </span><span class="s2">"EXCHANGE_EMAIL"</span><span class="w"> </span><span class="nt">-IncludeHidden</span><span class="w"> </span><span class="o">|</span><span class="w">
    </span><span class="n">Select-Object</span><span class="w"> </span><span class="nx">Name</span><span class="p">,</span><span class="w"> </span><span class="nx">Description</span><span class="w">

</span><span class="kr">foreach</span><span class="w"> </span><span class="p">(</span><span class="nv">$rule</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$rules</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nv">$desc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$rule</span><span class="o">.</span><span class="nf">Description</span><span class="w"> </span><span class="o">-replace</span><span class="w"> </span><span class="s2">"</span><span class="se">`r</span><span class="s2">?</span><span class="se">`n</span><span class="s2">"</span><span class="p">,</span><span class="w"> </span><span class="s2">" "</span><span class="w">
    </span><span class="nv">$output</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="p">[</span><span class="n">PSCustomObject</span><span class="p">]@{</span><span class="w">
        </span><span class="nx">RuleName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$rule</span><span class="err">.</span><span class="nx">Name</span><span class="w">
        </span><span class="nx">RuleDesc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">$desc</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="nv">$output</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Export-Csv</span><span class="w"> </span><span class="s2">"OUTPUT_PATH.csv"</span><span class="w"> </span><span class="nt">-NoTypeInformation</span><span class="w">
</span></code></pre></div></div>

<figure>
  <img src="/assets/images/hidden-rules/description-output.webp" alt="Rule Description Output" width="1000" />
  <figcaption>Rule Description Output</figcaption>
</figure>
<p>This allows you to determine whether the rule is malicious or benign.</p>

<p><br /></p>

<h2 id="final-thoughts">Final Thoughts</h2>
<p>A compromised account cannot always be considered secure after a password reset and session token revocation alone.</p>

<p>Hidden inbox rules are a powerful persistence mechanism that can:</p>
<ul>
  <li>Suppress security alerts</li>
  <li>Hide user communications</li>
  <li>Enable long-term access to information without detection</li>
</ul>

<p>Microsoft does not currently classify this behaviour as a vulnerability, as it requires authenticated access. However, it is difficult to identify any legitimate use case for completely hiding inbox rules.</p>

<p>As a result of this incident, we now:</p>
<ul>
  <li>Periodically scan for hidden inbox rules</li>
  <li>Continue to restrict external email forwarding</li>
  <li>Complete an in-depth forensic investigation into any breaches</li>
</ul>

<p>What began as a routine Monday quickly turned into a deep investigation, remediation effort, and a reminder that mailbox persistence techniques can be subtle yet highly effective.</p>

<p>Stay vigilant — and don’t rely on the Rules GUI alone.</p>]]></content><author><name></name></author><category term="cybersecurity" /><category term="microsoft" /><category term="exchange" /><category term="outlook" /><category term="incident-response" /><summary type="html"><![CDATA[It was a typical Monday morning. I sat down at my desk, ready to start the day, when I received a Microsoft Teams message from our cybersecurity department. Over the weekend, a breach had occurred that impacted several users.]]></summary></entry><entry><title type="html">Why Build a Home Server in a Cloud-First World?</title><link href="https://ritchiecaruso.com/2023/11/10/nas-build.html" rel="alternate" type="text/html" title="Why Build a Home Server in a Cloud-First World?" /><published>2023-11-10T00:00:00+11:00</published><updated>2023-11-10T00:00:00+11:00</updated><id>https://ritchiecaruso.com/2023/11/10/nas-build</id><content type="html" xml:base="https://ritchiecaruso.com/2023/11/10/nas-build.html"><![CDATA[<p>Cloud computing is everywhere. It’s fast, convenient, and generally affordable. So why would anyone bother building their own server to store data and files?</p>

<p>For me, the answer came down to a few key reasons:</p>

<ul>
  <li><strong>Backing up and syncing across ecosystems</strong> (Apple and Google Photos in one place)</li>
  <li><strong>Data ownership and control</strong> — how secure is the platform you’re trusting?</li>
  <li><strong>Access files from any device</strong> — the biggest selling point of cloud storage</li>
  <li><strong>Learning and hands-on experience</strong> building and maintaining computers</li>
  <li><strong>Endless possibilities</strong> beyond basic storage: VMs, Home Assistant, Pi-hole, Docker, and more</li>
</ul>

<p>With those goals in mind, I decided to build my own NAS (Network Attached Storage).</p>

<p><br /></p>

<h2 id="project-requirements">Project Requirements</h2>

<p>Before choosing hardware or software, I defined what I wanted this server to do:</p>

<ul>
  <li>Plenty of storage for photo backups</li>
  <li>Store personal files accessible from any device</li>
  <li>Enough power to run virtual machines and Docker containers</li>
  <li>RAID for redundancy, plus:
    <ul>
      <li>One separate onsite backup</li>
      <li>One offsite backup over VPN</li>
    </ul>
  </li>
  <li>A <strong>simple and minimal management interface</strong></li>
</ul>

<p><br /></p>

<h2 id="choosing-the-operating-system">Choosing the Operating System</h2>

<p>I narrowed my OS choices down to:</p>

<ul>
  <li>Unraid</li>
  <li>Proxmox</li>
  <li>TrueNAS</li>
</ul>

<p>While all three are solid options, I chose <strong>Unraid</strong>. The deciding factor was simplicity. I wanted this NAS to be easy to manage, without constantly tweaking or babysitting it. (Unraid did require a one off cost around $80 after the generous trial period.)</p>

<p><br /></p>

<h2 id="hardware-parts-list">Hardware Parts List</h2>

<p>Here’s the hardware I used for the build:</p>

<table>
  <thead>
    <tr>
      <th>Component</th>
      <th>Price (AUD)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AMD Ryzen 5 5600G CPU</td>
      <td>$199</td>
    </tr>
    <tr>
      <td>Asus Prime B450M-A II Motherboard</td>
      <td>$119</td>
    </tr>
    <tr>
      <td>Corsair Vengeance RGB PRO 16GB RAM (spare)</td>
      <td>~$100</td>
    </tr>
    <tr>
      <td>Be Quiet! Dark Rock TF2 CPU Cooler (spare)</td>
      <td>~$120</td>
    </tr>
    <tr>
      <td>650W Non-modular PSU (spare)</td>
      <td>~$70</td>
    </tr>
    <tr>
      <td>Fractal Design Node 804 Case</td>
      <td>$199</td>
    </tr>
    <tr>
      <td>SilverStone ECS06 6-Port PCIe SATA Controller</td>
      <td>$105</td>
    </tr>
    <tr>
      <td>8× 2TB Enterprise HDDs (10+ years old)</td>
      <td>Free</td>
    </tr>
  </tbody>
</table>

<p><strong>Total:</strong> ~<strong>$900 AUD (excluding storage)</strong></p>

<p>The drives were donated to me instead of being thrown out due to their age — a great way to keep e-waste down and costs low.</p>

<p>Also note this image has some parts that were installed in my Personal PC, the parts from my Personal PC were then repurposed for the NAS.</p>

<figure>
  <img src="/assets/images/nas-blog/parts-list.webp" alt="NAS Build Parts" width="600" />
  <figcaption>NAS Build Parts</figcaption>
</figure>

<p><br /></p>

<h2 id="assembly-process">Assembly Process</h2>

<p>Once all the parts arrived, I removed the components from my personal PC that I planned to reuse and got started.</p>

<h3 id="case--cooling">Case &amp; Cooling</h3>

<p>The <strong>Fractal Node 804</strong> has a great layout with two separate chambers:</p>
<ul>
  <li>One for components</li>
  <li>One dedicated to storage</li>
</ul>

<p>It includes three fans out of the box. I removed the drive cages initially to make assembly easier.</p>

<h3 id="initial-boot-test">Initial Boot Test</h3>

<p>Before installing the motherboard into the case, I:</p>

<ul>
  <li>Installed the CPU</li>
  <li>Mounted the cooler</li>
  <li>Inserted RAM</li>
  <li>Connected power on the bench</li>
</ul>

<p>It booted into the BIOS on the first try — always a good feeling.</p>

<figure>
  <div class="side-by-side">
    <img src="/assets/images/nas-blog/bench-test.webp" alt="Bench Test Top View" />
    <img src="/assets/images/nas-blog/bench-side.webp" alt="Bench Test Side View" />
  </div>
  <figcaption>Bench Test</figcaption>
</figure>

<h3 id="final-assembly">Final Assembly</h3>

<p>After installing everything into the case:</p>

<ul>
  <li>Added extra spare fans for airflow (8 drives generate some extra heat)</li>
  <li>Installed all HDDs vertically in their cages</li>
  <li>Connected SATA and power cables</li>
  <li>Installed the PCIe SATA controller (the motherboard only supports 6 SATA ports)</li>
</ul>

<p>This setup leaves <strong>4 spare SATA ports</strong> for future expansion.</p>

<p>I didn’t include a dedicated GPU to keep power usage low. The Ryzen 5600G’s integrated graphics are more than sufficient for a NAS.</p>

<figure>
  <div class="side-by-side">
    <img src="/assets/images/nas-blog/case.webp" alt="Finished Build Case" />
    <img src="/assets/images/nas-blog/hdds.webp" alt="Finished Build Harddrives" />
  </div>
  <figcaption>Finished Build</figcaption>
</figure>

<p>I had to replace one of the Dell drives with a 2TB Seagate I had lying around due to one of the 8 Dell drives failing on boot.</p>

<p><br /></p>

<h2 id="installing-unraid">Installing Unraid</h2>

<p>Unraid runs entirely from a USB drive, which means all internal storage is available for data.</p>

<p>Installation was simple using the <strong>Unraid USB Flash Creator</strong>:</p>

<ul>
  <li>Selected server name</li>
  <li>Configured network settings</li>
  <li>Booted directly into Unraid</li>
</ul>

<p>I reserved an IP Address on my router for the NAS to ensure accessing the web GUI and file shares would be straightforward.</p>

<p><br /></p>

<h2 id="storage-configuration">Storage Configuration</h2>

<p>I configured the drives using <strong>RAID 6</strong>, which provides:</p>

<ul>
  <li>Double distributed parity</li>
  <li>Protection against <strong>up to two drive failures</strong></li>
</ul>

<p>Once the array was up and running, I:</p>

<ul>
  <li>Created file shares</li>
  <li>Installed plugins for hardware monitoring (CPU temps, drive health, etc.)</li>
</ul>

<p>Permissions were set on file shares to control access across devices and users. This allowed me to create shares that guests on the network could have access to while securing personal files with user credentials.</p>

<figure>
  <img src="/assets/images/nas-blog/array.webp" alt="RAID Configuration" width="600" />
  <figcaption>RAID Configuration</figcaption>
</figure>

<p><br /></p>

<h2 id="virtual-machines--docker">Virtual Machines &amp; Docker</h2>

<p>Unraid makes running VMs and containers straightforward.</p>

<h3 id="what-im-running">What I’m Running</h3>

<ul>
  <li><strong>Windows and Linux VMs</strong> (work out of the box)</li>
  <li><strong>PhotoPrism</strong>
    <ul>
      <li>Central photo backup for both iPhones and Android devices</li>
    </ul>
  </li>
  <li><strong>Pi-hole</strong>
    <ul>
      <li>Network-wide ad blocking</li>
    </ul>
  </li>
</ul>

<figure>
  <img src="/assets/images/nas-blog/pi-hole.webp" alt="Example of Pi-Hole Web GUI" width="600" />
  <figcaption>Example of Pi-Hole Web GUI</figcaption>
</figure>

<p><br /></p>

<h2 id="backup-strategy-the-important-part">Backup Strategy (The Important Part)</h2>

<p>Redundancy isn’t backup — so I built a layered approach.</p>

<h3 id="onsite-backups">Onsite Backups</h3>

<ul>
  <li>Weekly Docker container backups (configurations included)</li>
  <li>Full NAS backup using <strong>Veeam</strong> on a Windows machine</li>
</ul>

<h3 id="offsite-backups">Offsite Backups</h3>

<ul>
  <li>Installed <strong>Tailscale</strong> for VPN access</li>
  <li>Connected this NAS to another NAS at a different location</li>
  <li>Used a <strong>cron job + rsync</strong> for nightly incremental backups</li>
</ul>

<p><br /></p>

<h2 id="final-thoughts">Final Thoughts</h2>

<p>With this setup:</p>

<ul>
  <li>Two drives can fail without data loss</li>
  <li>There’s a separate onsite backup</li>
  <li>There’s an automated offsite backup</li>
  <li>Files are accessible anywhere via Tailscale VPN</li>
  <li>Multiple ecosystems (Apple &amp; Android) sync seamlessly without subcriptions</li>
</ul>

<p>Overall, this feels like a <strong>robust, flexible, and future-proof home server</strong>. It offers far more control and capability than a typical cloud storage provider — and I learned a lot in the process.</p>

<p>If you’re comfortable with hardware and want full ownership of your data, building a home server is absolutely worth considering.</p>

<p><br /></p>

<h2 id="updates">Updates</h2>

<ul>
  <li>
    <p>After a month of use I decided to add a 1TB ssd cache drive. This allows file transfers to be done faster via the ssd and then have the files moved from the ssd cache drive to the hdds overnight.</p>
  </li>
  <li>
    <p>I added a notification setup for drive issues, backup failures etc via the Pushover app to get notifications directly to my phone if something goes wrong. This has made maintanence even easier as I don’t have to regularly check the server.</p>
  </li>
  <li>
    <p>After 2 years of operation everything is still running like a dream, no drives have needed replacing and energy consumption has been around 2.2kWh per day. I have cancelled all cloud storage subscriptions now and have not looked back.</p>
  </li>
  <li>
    <p>Losing any data on this NAS would be detrimental therefore it is not ideal for homelab activites such as cybersecurity and networking labs. 
My next build project will be a Homelab running Proxmox to facilitate cybersecurity labs, recreating vulnerabilites, exploring the effects of malware on systems and building advanced networking configurations.</p>
  </li>
</ul>]]></content><author><name></name></author><category term="nas" /><category term="unraid" /><category term="docker" /><category term="raid" /><summary type="html"><![CDATA[Cloud computing is everywhere. It’s fast, convenient, and generally affordable. So why would anyone bother building their own server to store data and files?]]></summary></entry></feed>